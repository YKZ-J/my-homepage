(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[977],{4001:(e,s,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/articles",function(){return t(7679)}])},7679:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>m});var a=t(7876),r=t(4232),l=t(2009),d=t(2727),i=t(8230),c=t.n(i),n=t(3276),o=t(7660),x=t(4587),h=t.n(x);function m(){let[e,s]=(0,r.useState)([]),[t]=(0,n.hD)(d.j2),i="admin"===(0,o.h)(null!=t?t:null);(0,r.useEffect)(()=>{(async()=>{let e=(0,l.aU)(d.yA),t=(0,l.P)((0,l.rJ)(e,"articles"),(0,l.My)("createdAt","desc"));s((await (0,l.GG)(t)).docs.map(e=>({id:e.id,...e.data()})))})()},[]);let x=i?e:e.filter(e=>!e.isDraft);return(0,a.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-8",children:[i&&(0,a.jsx)("div",{className:"flex justify-end mb-8",children:(0,a.jsx)(c(),{href:"/articles/create",children:(0,a.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-5 py-2 rounded shadow transition-colors duration-150",children:"＋ 新規作成"})})}),(0,a.jsx)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-8 gap-4",children:(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"記事一覧"})}),(0,a.jsx)("ul",{className:"space-y-8",children:x.map(e=>(0,a.jsxs)("li",{className:"bg-white rounded-lg shadow hover:shadow-lg transition-shadow duration-150 p-5 flex flex-col sm:flex-row gap-6",children:[e.imageUrl&&(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(h(),{src:e.imageUrl,alt:"記事画像",width:120,height:80,className:"rounded object-cover",style:{maxWidth:120,height:"auto"}})}),(0,a.jsxs)("div",{className:"flex-1 flex flex-col gap-2",children:[(0,a.jsx)(c(),{href:"/articles/".concat(e.id),children:(0,a.jsx)("div",{className:"border border-blue-200 bg-white/80 backdrop-blur-sm rounded px-0 py-2 mb-2 shadow-sm w-full",children:(0,a.jsxs)("h3",{className:"text-lg font-semibold text-blue-700 hover:underline flex items-center px-3",children:[e.title,i&&e.isDraft&&(0,a.jsx)("span",{className:"ml-2 text-xs text-orange-500 border border-orange-400 rounded px-2 py-0.5 bg-orange-50",children:"下書き"})]})})}),(0,a.jsx)("div",{className:"border border-gray-200 bg-white/60 backdrop-blur-sm rounded px-0 py-2 mb-2 shadow-sm text-gray-700 line-clamp-2 w-full",children:(0,a.jsxs)("div",{className:"px-3",children:[e.body.slice(0,80),"..."]})}),e.tags&&e.tags.length>0&&(0,a.jsxs)("div",{className:"text-xs text-gray-500 mb-1",children:["タグ: ",e.tags.join(", ")]}),e.createdAt&&(0,a.jsxs)("div",{className:"text-xs text-gray-400 mb-1",children:["投稿日: ","object"==typeof e.createdAt&&e.createdAt.toDate?e.createdAt.toDate().toLocaleString():String(e.createdAt)]}),i&&(0,a.jsx)("div",{className:"mt-1",children:(0,a.jsx)(c(),{href:"/articles/create?id=".concat(e.id),children:(0,a.jsx)("button",{className:"text-xs bg-gray-200 hover:bg-gray-300 text-gray-700 rounded px-3 py-1 transition-colors duration-150",children:"編集"})})})]})]},e.id))})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[587,276,636,593,792],()=>s(4001)),_N_E=e.O()}]);