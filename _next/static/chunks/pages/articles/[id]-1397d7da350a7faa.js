(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[245],{3708:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var s=a(7876),r=a(9099),l=a(4232),d=a(2009),i=a(2727),n=a(4587),c=a.n(n),x=a(3276),o=a(7660),m=a(8230),h=a.n(m);function u(){let{id:e}=(0,r.useRouter)().query,[t,a]=(0,l.useState)(null),[n]=(0,x.hD)(i.j2),m="admin"===(0,o.h)(null!=n?n:null);return((0,l.useEffect)(()=>{if(!e||"string"!=typeof e)return;let t=(0,d.aU)(i.yA);(0,d.x7)((0,d.H9)(t,"articles",e)).then(e=>{e.exists()&&a({id:e.id,...e.data()})})},[e]),t)?t.isDraft&&!m?(0,s.jsx)("div",{className:"text-center py-10 text-red-500",children:"このページは表示できません"}):(0,s.jsxs)("div",{className:"max-w-2xl mx-auto px-4 py-8 bg-white rounded-lg shadow-md mt-6 mb-10",children:[(0,s.jsxs)("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-4 flex items-center",children:[t.title,m&&t.isDraft&&(0,s.jsx)("span",{className:"ml-3 text-xs text-orange-500 border border-orange-400 rounded px-2 py-0.5 bg-orange-50 font-semibold",children:"下書き"})]}),t.imageUrl&&(0,s.jsx)("div",{className:"w-full flex justify-center mb-6",children:(0,s.jsx)(c(),{src:t.imageUrl,alt:"記事画像",width:400,height:240,className:"rounded-lg object-cover max-h-60 w-full sm:w-[400px]",style:{maxWidth:400,height:"auto"}})}),(0,s.jsx)("div",{className:"text-gray-800 text-base leading-relaxed whitespace-pre-line mb-4 break-words",children:t.body}),t.tags&&t.tags.length>0&&(0,s.jsx)("div",{className:"mb-2 flex flex-wrap gap-2",children:t.tags.map(e=>(0,s.jsxs)("span",{className:"inline-block bg-blue-100 text-blue-700 text-xs px-2 py-0.5 rounded",children:["#",e]},e))}),t.createdAt&&(0,s.jsxs)("div",{className:"text-xs text-gray-400 mb-4",children:["投稿日: ","object"==typeof t.createdAt&&t.createdAt.toDate?t.createdAt.toDate().toLocaleString():String(t.createdAt)]}),m&&(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(h(),{href:"/articles/create?id=".concat(t.id),children:(0,s.jsx)("button",{className:"bg-gray-200 hover:bg-gray-300 text-gray-700 rounded px-4 py-2 text-sm font-semibold transition-colors duration-150",children:"編集"})})})]}):(0,s.jsx)("div",{className:"text-center py-10 text-gray-500",children:"Loading..."})}},8500:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/articles/[id]",function(){return a(3708)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[587,276,636,593,792],()=>t(8500)),_N_E=e.O()}]);