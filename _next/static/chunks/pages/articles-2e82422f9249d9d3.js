(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[977],{4001:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/articles",function(){return r(7679)}])},7679:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var a=r(7876),l=r(4232),s=r(2009),d=r(2727),i=r(8230),n=r.n(i),o=r(3276),c=r(7660),x=r(4587),u=r.n(x);function h(){let[e,t]=(0,l.useState)([]),[r]=(0,o.hD)(d.j2),i="admin"===(0,c.h)(null!=r?r:null);(0,l.useEffect)(()=>{(async()=>{let e=(0,s.aU)(d.yA),r=(0,s.P)((0,s.rJ)(e,"articles"),(0,s.My)("createdAt","desc"));t((await (0,s.GG)(r)).docs.map(e=>({id:e.id,...e.data()})))})()},[]);let x=i?e:e.filter(e=>!e.isDraft);return(0,a.jsx)("main",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 via-white to-blue-100 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:(0,a.jsxs)("div",{className:"w-full max-w-4xl bg-white/90 dark:bg-gray-800/90 rounded-3xl shadow-2xl p-8 md:p-12 flex flex-col items-center gap-8 border border-blue-100 dark:border-gray-700 backdrop-blur",style:{width:"80vw"},children:[i&&(0,a.jsx)("div",{className:"flex justify-start mb-8 w-full",children:(0,a.jsx)(n(),{href:"/articles/create",children:(0,a.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-5 py-2 rounded shadow transition-colors duration-150",children:"＋ 新規作成"})})}),(0,a.jsx)("h2",{className:"text-4xl font-extrabold text-blue-800 bg-blue-50 dark:bg-blue-900 rounded-xl px-8 py-8 text-center w-full max-w-md mx-auto shadow-sm tracking-wide",style:{letterSpacing:"0.05em",fontFamily:"'Inter', 'Noto Sans JP', 'Segoe UI', 'Helvetica Neue', Arial, 'sans-serif'"},children:"articles"}),(0,a.jsx)("ul",{className:"flex flex-col gap-10 w-full mt-8",children:x.map(e=>{var t;let r;return(0,a.jsxs)("li",{className:"bg-white dark:bg-gray-700 rounded-xl shadow hover:shadow-lg transition-shadow duration-150 p-6 flex flex-col items-center w-full max-w-md mx-auto cursor-pointer",children:[(0,a.jsxs)(n(),{href:"/articles/".concat(e.id),className:"w-full flex flex-col items-center",children:[(0,a.jsxs)("h3",{className:"text-lg font-semibold text-blue-700 dark:text-blue-200 hover:underline text-center w-full break-words",children:[e.title,i&&e.isDraft&&(0,a.jsx)("span",{className:"ml-2 text-xs text-orange-500 border border-orange-400 rounded px-2 py-0.5 bg-orange-50",children:"下書き"})]}),e.imageUrl&&(0,a.jsx)("div",{className:"my-4 w-full flex justify-center",children:(0,a.jsx)(u(),{src:e.imageUrl,alt:"記事画像",width:240,height:160,className:"rounded object-cover",style:{maxWidth:240,height:"auto"}})}),(0,a.jsxs)("div",{className:"text-xs text-gray-500 dark:text-gray-300 mt-2 text-center w-full",children:["投稿日: ",(t=e.createdAt)?("object"==typeof t&&"seconds"in t?new Date(1e3*t.seconds):"string"==typeof t?new Date(t):t).toLocaleDateString():""]})]}),i&&(0,a.jsx)("div",{className:"mt-3 w-full flex justify-end",children:(0,a.jsx)(n(),{href:"/articles/create?id=".concat(e.id),onClick:e=>e.stopPropagation(),children:(0,a.jsx)("button",{className:"text-xs bg-gray-200 hover:bg-gray-300 dark:bg-gray-600 dark:hover:bg-gray-500 text-gray-700 dark:text-gray-100 rounded px-3 py-1 transition-colors duration-150",children:"編集"})})})]},e.id)})})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[587,276,636,593,792],()=>t(4001)),_N_E=e.O()}]);