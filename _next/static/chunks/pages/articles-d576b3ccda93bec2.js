(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[977],{4001:(e,t,l)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/articles",function(){return l(7679)}])},7679:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>m});var r=l(7876),a=l(4232),s=l(2009),c=l(2727),n=l(8230),i=l.n(n),o=l(3276),d=l(7660),x=l(4587),u=l.n(x);function m(){let[e,t]=(0,a.useState)([]),[l]=(0,o.hD)(c.j2),n="admin"===(0,d.h)(null!=l?l:null);(0,a.useEffect)(()=>{(async()=>{let e=(0,s.aU)(c.yA),l=(0,s.P)((0,s.rJ)(e,"articles"),(0,s.My)("createdAt","desc"));t((await (0,s.GG)(l)).docs.map(e=>({id:e.id,...e.data()})))})()},[]);let x=n?e:e.filter(e=>!e.isDraft);return(0,r.jsx)("main",{className:"min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"w-full max-w-4xl rounded-3xl shadow-2xl p-8 md:p-12 flex flex-col items-center gap-8 border border-blue-100 dark:border-gray-700 backdrop-blur",style:{width:"80vw",background:"var(--card-bg)"},children:[n&&(0,r.jsx)("div",{className:"flex justify-start mb-8 w-full",children:(0,r.jsx)(i(),{href:"/articles/create",children:(0,r.jsx)("button",{className:"button button-blue",type:"button",children:"＋ create article"})})}),(0,r.jsx)("h2",{className:"text-4xl font-extrabold rounded-xl px-8 py-8 text-center w-full max-w-md mx-auto shadow-sm tracking-wide",style:{letterSpacing:"0.05em",fontFamily:"'Inter', 'Noto Sans JP', 'Segoe UI', 'Helvetica Neue', Arial, 'sans-serif'",background:"var(--card-bg)",color:"var(--primary)"},children:"Articles"}),(0,r.jsx)("ul",{className:"flex flex-col gap-10 w-full mt-8",children:x.map(e=>{var t;let l;return(0,r.jsxs)("li",{className:"card w-full max-w-md mx-auto cursor-pointer flex flex-col items-center",children:[(0,r.jsxs)(i(),{href:"/articles/".concat(e.id),className:"w-full flex flex-col items-center",style:{color:"var(--primary)",textDecoration:"none"},children:[(0,r.jsxs)("h3",{className:"text-lg font-semibold hover:underline text-center w-full break-words",style:{color:"var(--primary)"},children:[e.title,n&&e.isDraft&&(0,r.jsx)("span",{className:"ml-2 text-xs text-orange-500 border border-orange-400 rounded px-2 py-0.5 bg-orange-50",children:"draft"})]}),e.imageUrl&&(0,r.jsx)("div",{className:"my-4 w-full flex justify-center",children:(0,r.jsx)(u(),{src:e.imageUrl,alt:"記事画像",width:240,height:160,className:"rounded object-cover",style:{maxWidth:240,height:"auto"}})}),(0,r.jsxs)("div",{className:"text-xs mt-2 text-center w-full",style:{color:"var(--secondary)"},children:["posted on: ",(t=e.createdAt)?("object"==typeof t&&"seconds"in t?new Date(1e3*t.seconds):"string"==typeof t?new Date(t):t).toLocaleDateString():""]})]}),n&&(0,r.jsx)("div",{className:"mt-3 w-full flex justify-end",children:(0,r.jsx)(i(),{href:"/articles/create?id=".concat(e.id),onClick:e=>e.stopPropagation(),children:(0,r.jsx)("button",{className:"button button-blue text-xs px-3 py-1",type:"button",children:"edit"})})})]},e.id)})})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[587,276,636,593,792],()=>t(4001)),_N_E=e.O()}]);