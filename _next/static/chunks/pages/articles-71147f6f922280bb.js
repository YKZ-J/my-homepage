(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[977],{4001:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/articles",function(){return r(7679)}])},7679:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>m});var l=r(7876),a=r(4232),s=r(2009),c=r(2727),n=r(8230),i=r.n(n),o=r(3276),d=r(7660),x=r(4587),u=r.n(x);function m(){let[e,t]=(0,a.useState)([]),[r]=(0,o.hD)(c.j2),n="admin"===(0,d.h)(null!=r?r:null);(0,a.useEffect)(()=>{(async()=>{let e=(0,s.aU)(c.yA),r=(0,s.P)((0,s.rJ)(e,"articles"),(0,s.My)("createdAt","desc"));t((await (0,s.GG)(r)).docs.map(e=>({id:e.id,...e.data()})))})()},[]);let x=n?e:e.filter(e=>!e.isDraft);return(0,l.jsx)("main",{className:"min-h-screen flex items-center justify-center",children:(0,l.jsxs)("div",{className:"container flex flex-col items-center gap-8 border border-blue-100 dark:border-gray-700 backdrop-blur",children:[n&&(0,l.jsx)("div",{className:"flex justify-start mb-8 w-full",children:(0,l.jsx)(i(),{href:"/articles/create",children:(0,l.jsx)("button",{className:"button button-blue",type:"button",children:"ï¼‹ create article"})})}),(0,l.jsx)("h2",{className:"text-4xl font-extrabold rounded-xl px-8 py-8 text-center w-full max-w-md mx-auto shadow-sm tracking-wide",style:{letterSpacing:"0.05em",fontFamily:"'Inter', 'Noto Sans JP', 'Segoe UI', 'Helvetica Neue', Arial, 'sans-serif'",background:"var(--card-bg)",color:"var(--primary)"},children:"Articles"}),(0,l.jsx)("ul",{className:"flex flex-col gap-10 w-full mt-8",children:x.map(e=>{var t;let r;return(0,l.jsxs)("li",{className:"article-card w-full max-w-md mx-auto cursor-pointer flex flex-col items-center",children:[(0,l.jsxs)(i(),{href:"/articles/".concat(e.id),className:"w-full flex flex-col items-center",style:{color:"var(--primary)",textDecoration:"none"},children:[(0,l.jsxs)("h3",{className:"text-lg font-semibold hover:underline text-center w-full break-words",style:{color:"var(--primary)"},children:[e.title,n&&e.isDraft&&(0,l.jsx)("span",{className:"ml-2 text-xs text-orange-500 border border-orange-400 rounded px-2 py-0.5 bg-orange-50",children:"draft"})]}),e.imageUrl&&(0,l.jsx)("div",{className:"my-4 w-full flex justify-center",children:(0,l.jsx)(u(),{src:e.imageUrl,alt:"image",width:240,height:160,className:"rounded object-cover",style:{maxWidth:240,height:"auto"}})}),(0,l.jsxs)("div",{className:"text-xs mt-2 text-center w-full",style:{color:"var(--secondary)"},children:["posted on: ",(t=e.createdAt)?("object"==typeof t&&"seconds"in t?new Date(1e3*t.seconds):"string"==typeof t?new Date(t):t).toLocaleDateString():""]})]}),n&&(0,l.jsx)("div",{className:"mt-3 w-full flex justify-end",children:(0,l.jsx)(i(),{href:"/articles/create?id=".concat(e.id),onClick:e=>e.stopPropagation(),children:(0,l.jsx)("button",{className:"button button-blue text-xs px-3 py-1",type:"button",children:"edit"})})})]},e.id)})})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[587,276,636,593,792],()=>t(4001)),_N_E=e.O()}]);